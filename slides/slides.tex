\documentclass[accentcolor = tud11b, colorbacktitle, landscape, german, presentation, tudmathserif]{tudbeamer}

% Core packages.
\usepackage[ngerman]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
% Other packages.
\usepackage{csquotes}
\usepackage{float}
\usepackage{listings}
\usepackage{makecell}
\usepackage{mathtools}
\usepackage{multicol}
\usepackage{newunicodechar}
\usepackage{stmaryrd}
\usepackage{tabto}
%\usepackage[disable]{todonotes}
\usepackage{todonotes}
% TikZ.
\usepackage{tikz}
\usetikzlibrary{angles, arrows.meta, backgrounds, calc, positioning, shapes}

% Basic information.
\title{Lösung periodischer Fahrplanoptimierungsprobleme durch Modulo-Simplex-Berechnungen}
\institute{Fabian Damken}
\date{\today}

\MakeOuterQuote{"}

\tikzset{> = { Latex[length = 2mm] }}

\AtBeginSection{
	\begin{frame}{\insertsectionhead \\ Gliederung}
		\tableofcontents[currentsection]
	\end{frame}
}
\AtBeginSubsection{
	\begin{frame}{\insertsubsectionhead \\ Gliederung}
		\tableofcontents[currentsection, currentsubsection]
	\end{frame}
}

% New commands.
\newcommand{\arr}{\mathit{arr}}
\newcommand{\const}{\ensuremath{\textrm{const}}}
\newcommand{\C}{\ensuremath{\mathbb{C}}}
\newcommand{\dep}{\mathit{dep}}
\newcommand{\dif}[1]{\ensuremath{\,\mathrm{d}#1}}
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}
% Matrix and vector notation. Use both boldsymbol and mathbf as the first works
% only for greek letters while the latter works only for latin letters.
\newcommand{\mat}[1]{\boldsymbol{\mathbf{#1}}}
\renewcommand{\vec}[1]{\boldsymbol{\mathbf{#1}}}
\makeatletter
\newcommand{\BIG}{\bBigg@{4}}
\newcommand{\BIGG}{\bBigg@{5}}
\makeatother

\newcommand{\zB}{z.\,B.~}

\newunicodechar{−}{--}

\newcommand{\exampleDirectedGraph}{
	\begin{tikzpicture}[->, node/.style = { draw, rectangle, rounded corners, minimum width = 1cm, minimum height = 0.6cm }]
		\node [node] (a) {\(A\)};
		\node [node, right = of a] (b) {\(B\)};
		\node [node, below = of a] (c) {\(C\)};
		\node [node, below = of b] (d) {\(D\)};
		
		\draw (b) -- node[midway, sloped, above]{\(a\)} (a);
		\draw (a) -- node[left]{\(b\)} (c);
		\draw (d) -- node[midway, sloped, above]{\(c\)} (a);
		\draw (b) -- node[right]{\(d\)} (d);
		\draw (c) -- node[midway, sloped, above]{\(e\)} (d);
	\end{tikzpicture}
}
\newcommand{\exampleSpanningTree}{
	\begin{tikzpicture}[node/.style = { draw, rectangle, rounded corners, minimum width = 1cm, minimum height = 0.6cm }, spanning/.style = { draw = tud9b }, co/.style = { draw = tud2b }]
		\node [node] (a) {\(A\)};
		\node [node, right = of a] (b) {\(B\)};
		\node [node, below = of a] (c) {\(C\)};
		\node [node, below = of b] (d) {\(D\)};
		
		\draw [spanning] (b) -- node[midway, sloped, above]{\(a\)} (a);
		\draw [co] (a) -- node[left]{\(b\)} (c);
		\draw [spanning] (d) -- node[midway, sloped, above]{\(c\)} (a);
		\draw [co] (b) -- node[right]{\(d\)} (d);
		\draw [spanning] (c) -- node[midway, sloped, above]{\(e\)} (d);
	\end{tikzpicture}
}
\newcommand{\exampleDirectedSpanningTree}{
\begin{tikzpicture}[->, node/.style = { draw, rectangle, rounded corners, minimum width = 1cm, minimum height = 0.6cm }, spanning/.style = { draw = tud9b }, co/.style = { draw = tud2b }]
	\node [node] (a) {\(A\)};
	\node [node, right = of a] (b) {\(B\)};
	\node [node, below = of a] (c) {\(C\)};
	\node [node, below = of b] (d) {\(D\)};
	
	\draw [spanning] (b) -- node[midway, sloped, above]{\(a\)} (a);
	\draw [co] (a) -- node[left]{\(b\)} (c);
	\draw [spanning] (d) -- node[midway, sloped, above]{\(c\)} (a);
	\draw [co] (b) -- node[right]{\(d\)} (d);
	\draw [spanning] (c) -- node[midway, sloped, above]{\(e\)} (d);
\end{tikzpicture}
}

\begin{document}
	\bibliographystyle{alpha}
	
	\begin{titleframe}
		\onslide<2->{\tableofcontents}
	\end{titleframe}

	\section{Einleitung und Motivation}
		\todo{Einleitung und Motivation}
	% end
	
	\section{Mathematische Modellierung}
		\subsection{Nicht-periodische Fahrpläne}
			\begin{frame}{Schienennetz und Events}
				Ein \emph{Schienennetz} ist ein System von Linien \(\mathcal{L}\) und Stationen \(\mathcal{S}\).
			
				\vspace{1cm}
				Bedient Linie \( L \in \mathcal{L} \) die Station \( S \in \mathcal{S} \), so sei
				\begin{itemize}
					\item \( (L, \arr, S) \) \tabto{1.7cm} das Ankunfts- und
					\item \( (L, \dep, S) \) \tabto{1.7cm} das Abfahrts-\emph{Event}.
				\end{itemize}
			
				Eine Linie ist eine alternierende Sequenz von Ankunfts- und Abfahrts-Events.
			\end{frame}
			\note[itemize]{
				\item Linie \( L \in \mathcal{L} \) ist Transportkette.
				\item Züge aus \(L\) bedienen bestimmte Sequenzen an Stationen.
			}
		
			\begin{frame}{Fahrpläne und Aktivitäten}
				Ein \emph{Fahrplan} \( \vec{\pi} = (\pi_i) \) weißt jedem Event \( i = (L, \arr, S) \) (bzw. \( i = (L, \dep, S) \)) einen Zeitpunkt \( \pi_i \in \R \) zu.
				
				\vspace{1cm}
				Eine \emph{Aktivität} \( a : i \to j \) beschreibt den Übergang von \(i\) zu \(j\). Die hierfür gebrauchte Zeit (die \emph{Spannung, "Tension"}) ist
				\begin{equation*}
					x_a = \pi_j - \pi_i
				\end{equation*}
				Sei \( \mathcal{A} \) die Menge aller Aktivitäten.
			\end{frame}
			\note[itemize]{
				\item Zeitpunkt \( \pi_i \) ist Zeitpunkt, an dem das Ereignis eintritt.
			}
		
			\begin{frame}{Zeiteinschränkungen und Durchführbarkeit}
				Jeder Aktivität \( a \in \mathcal{A} \) wird eine \emph{Zeiteinschränkung}
				\begin{equation*}
					\Delta_a = [l_a, u_a]
				\end{equation*}
				zugeordnet.
				
				\vspace{1cm}
				Ein Fahrplan \(\vec{\pi}\) ist \emph{durchführbar} ("feasible"), wenn
				\begin{equation*}
					\forall a \in \mathcal{A} : x_a \in \Delta_a \quad\iff\quad \forall (a : i \to j) \in \mathcal{A} : l_a \leq \pi_j - \pi_i \leq u_a
				\end{equation*}
			\end{frame}
			\note[itemize]{
				\item \(l_a\) untere und \(u_a\) obere Schranke
			}
		
			\begin{frame}{Aussagekraft von Zeiteinschränkungen}
				\begin{itemize}
					\item Fast alle realen Einschränkungen können durch Zeitspannen beschrieben werden.
					\begin{itemize}
						\item<2-> Fahrzeit eines Zuges
						\item<2-> Sicherheitseinschränkungen (\zB Vorfahrt)
						\item<2-> Wartezeiten (Kundenzufriedenheit)
						\item<2-> Umsteigezeiten
						\item<2-> \dots
					\end{itemize}
				\end{itemize}
			\end{frame}
		
			\begin{frame}{Event-Aktivitäts-Netzwerk}
				\vspace{-0.3cm}
				\begin{figure}[H]
					\centering
					\begin{tikzpicture}[event/.style = { draw, rectangle, rounded corners, minimum width = 2cm, minimum height = 0.6cm }]
						\node [event]                                         (L1-dep-B) {\((L_1, \dep, B)\)};
						\node [event, above left = of L1-dep-B, xshift = 1cm] (L1-arr-C) {\((L_1, \arr, C)\)};
						\node [event, below = of L1-dep-B]                    (L1-arr-B) {\((L_1, \arr, B)\)};
						\node [event, below left = of L1-arr-B, xshift = 1cm] (L1-dep-A) {\((L_1, \dep, A)\)};
						
						\node [event, right = of L1-dep-B, xshift = 2cm]        (L2-arr-B) {\((L_2, \arr, B)\)};
						\node [event, above right = of L2-arr-B, xshift = -1cm] (L2-dep-E) {\((L_2, \dep, E)\)};
						\node [event, below = of L2-arr-B]                      (L2-dep-B) {\((L_2, \dep, B)\)};
						\node [event, below right = of L2-dep-B, xshift = -1cm] (L2-arr-D) {\((L_2, \dep, D)\)};
						
						\draw [->] (L1-dep-A) -- node[above left]{run arc} (L1-arr-B);
						\draw [->] (L1-arr-B) -- node[left]{stop arc}      (L1-dep-B);
						\draw [->] (L1-dep-B) -- node[below left]{run arc} (L1-arr-C);
						
						\draw [->] (L2-dep-E) -- node[below right]{run arc} (L2-arr-B);
						\draw [->] (L2-arr-B) -- node[right]{stop arc}      (L2-dep-B);
						\draw [->] (L2-dep-B) -- node[above right]{run arc} (L2-arr-D);
						
						\draw [->] (L2-arr-B) -- node[midway, sloped, above, yshift = -0.1cm]{change arc} (L1-dep-B);
						\draw [->] (L1-arr-B) -- node[midway, sloped, below]{change arc}                  (L2-dep-B);
						
						\draw [->] (L1-dep-B) -- node[midway, sloped, above, yshift = -0.1cm]{headway arc} (L2-dep-B);
					\end{tikzpicture}
					\caption{Event-Aktivitäts-Netzwerk, vgl. \cite[Fig.~1]{nachtigallSolvingPeriodicTimetable2008}}
					\label{fig:event_activity_network}
				\end{figure}
			\end{frame}
			\note[itemize]{
				\item "headway" = Vorfahrt
			}
		% end
		
		\subsection{Periodische Fahrpläne}
			\begin{frame}{Problematiken}
				\begin{itemize}
					\item Nicht-periodische Optimierungsprobleme \(\to\) Kürzester-Pfad-Berechnungen.
					\item Periodische Fahrpläne \(\to\) dieses einfache Modell funktioniert nicht mehr.
						\begin{itemize}
							\item Es ist a-priori nicht klar, in welcher Sequenz Züge ankommen.
							\item Erst nach Ordnung bekannt.
						\end{itemize}
				\end{itemize}
			\end{frame}
		
			\begin{frame}{Periodische Fahrpläne und periodische Durchführbarkeit}
				Ein periodischer Fahrplan \( \vec{\pi} = (\pi_i) \) weißt jedem Event \( i \) eine \emph{Ereigniszeit} \( \pi_i \in \R \) zu. Events finden zu den Zeitpunkten \( \pi_i + z_i T \) mit dem Modulo-Parameter \(z_i \in \Z\) und der Periode \(T\) statt.
			
				\vspace{1cm}
				Ein periodischer Fahrplan \( \vec{\pi} \) ist \emph{durchführbar} ("feasible"), wenn
				\begin{equation*}
					\forall (a : i \to j) \in \mathcal{A} : \exists z_a \in \Z : l_a \leq \pi_j - \pi_i - z_a T \leq u_a
				\end{equation*}
			\end{frame}
			\note[itemize]{
				\item Eine Periode \(T\) für alles. Unterschiedliche Perioden \(\to\) kleinstes gemeinsames Vielfache.
				\item Ein Event mehrmals in einer Periode \(\to\) Darstellen durch mehrere Events (z.B. S3-1 um +3 und S3-2 um +33).
				\item \(l_a\) und \(u_a\) wir vorher.
			}
		
			\begin{frame}{Modulo-Operator und Pufferzeit ("slack time")}
				Sei
				\begin{equation*}
					[t]_T \coloneqq \min \big\{\, t + zT \,\vert\, t + zT \geq 0, \quad z \in \Z, \quad T = \const \,\big\}
				\end{equation*}
				Es gilt offensichtlich \( 0 \leq [t]_T < T \).
			
				\vspace{1cm}
				Die untere und obere \emph{Pufferzeit} misst, um wie viel Zeit die Spannung \( x_a = \pi_j - \pi_i \) verändert werden darf.
				\begin{align*}
					y_a^\mathit{low} &\coloneqq [x_a - l_a]_T \\
					y_a^\mathit{upp} &\coloneqq [u_a - x_a]_T
				\end{align*}
			\end{frame}
		
			\begin{frame}{Das Optimierungsproblem}
				\begin{itemize}
					\item Durch Umkehrung einer Kante \(a\) können obere und untere Pufferzeit ausgetauscht werden.
					\item O.B.d.A. kann das Problem nur in Bezug auf \( y_a^\mathit{low} \) definiert werden.
				\end{itemize}
				
				\vspace{0.5cm}
				\( \to \) Gemischt-Ganzzahliges Programm ("mixed-integer program"):
				\begin{equation*}
					\min \Bigg\{\, \sum_{a}^{\mathcal{A}} \omega_a (x_a - l_a - z_a T) \,\bigg\vert\, \forall a \in \mathcal{A} : l_a \leq x_a - z_a T \leq u_a, \quad z_a \in \Z \,\Bigg\}
				\end{equation*}
			\end{frame}
			\note[itemize]{
				\item \( \omega_a \) sind die Gewichte.
				\item Minimiere die Gewichtete untere Pufferzeit, Vorausgesetzt der entsprechende Fahrplan ist gültig.
				\item NP-Schwer
			}
		% end
		
		% TODO: Rückblick und wichtigste Konzepte.
	% end
	
	\section{The Periodic Timetable Polyhedron} % TODO: Title.
		\subsection{Grundlagen von Flussnetzwerken}
			\begin{frame}{Gerichtete Graphen}
				\begin{figure}
					\centering
					\exampleDirectedGraph
					\caption{Gerichteter Graph mit \( n = 4 \) Kanten und \( m = 4 \) Knoten (laufendes Beispiel)}
					\label{fig:directed_graph}
				\end{figure}
			
				Notation: Die Kante \( a : A \to B \) geht von Knoten \(A\) zu Knoten \(B\).
			\end{frame}
		
			\begin{frame}{Spannbaum und Komplement-Baum (Ko-Baum)}
				\begin{figure}
					\centering
					\begin{minipage}{0.3\textwidth}
						\begin{tikzpicture}[node/.style = { draw, rectangle, rounded corners, minimum width = 1cm, minimum height = 0.6cm }, spanning/.style = { draw = tud9b }, co/.style = { draw = tud2b }]
							\node [node] (a) {\(A\)};
							\node [node, right = of a] (b) {\(B\)};
							\node [node, below = of a] (c) {\(C\)};
							\node [node, below = of b] (d) {\(D\)};
							
							\draw [co] (a) -- node[midway, sloped, above]{\(a\)} (b);
							\draw [spanning] (a) -- node[left]{\(b\)} (c);
							\draw [spanning] (d) -- node[midway, sloped, above]{\(c\)} (a);
							\draw [spanning] (b) -- node[right]{\(d\)} (d);
							\draw [co] (c) -- node[midway, sloped, above]{\(e\)} (d);
						\end{tikzpicture}
					\end{minipage}%
					\begin{minipage}{0.3\textwidth}
						\begin{tikzpicture}[node/.style = { draw, rectangle, rounded corners, minimum width = 1cm, minimum height = 0.6cm }, spanning/.style = { draw = tud9b }, co/.style = { draw = tud2b }]
							\node [node] (a) {\(A\)};
							\node [node, right = of a] (b) {\(B\)};
							\node [node, below = of a] (c) {\(C\)};
							\node [node, below = of b] (d) {\(D\)};
							
							\draw [spanning] (a) -- node[midway, sloped, above]{\(a\)} (b);
							\draw [spanning] (a) -- node[left]{\(b\)} (c);
							\draw [spanning] (d) -- node[midway, sloped, above]{\(c\)} (a);
							\draw [co] (b) -- node[right]{\(d\)} (d);
							\draw [co] (c) -- node[midway, sloped, above]{\(e\)} (d);
						\end{tikzpicture}
					\end{minipage}
					\null\vspace{0.5cm}
					\begin{minipage}{0.3\textwidth}
						\begin{tikzpicture}[node/.style = { draw, rectangle, rounded corners, minimum width = 1cm, minimum height = 0.6cm }, spanning/.style = { draw = tud9b }, co/.style = { draw = tud2b }]
							\node [node] (a) {\(A\)};
							\node [node, right = of a] (b) {\(B\)};
							\node [node, below = of a] (c) {\(C\)};
							\node [node, below = of b] (d) {\(D\)};
							
							\draw [co] (a) -- node[midway, sloped, above]{\(a\)} (b);
							\draw [co] (a) -- node[left]{\(b\)} (c);
							\draw [spanning] (d) -- node[midway, sloped, above]{\(c\)} (a);
							\draw [spanning] (b) -- node[right]{\(d\)} (d);
							\draw [spanning] (c) -- node[midway, sloped, above]{\(e\)} (d);
						\end{tikzpicture}
					\end{minipage}%
					\begin{minipage}{0.3\textwidth}
						\exampleSpanningTree
					\end{minipage}
					\caption{Mehrere (nicht alle) {\color{tud9b} Spannbäume} (rot) und {\color{tud2b} Ko-Bäume} (blau)}
				\end{figure}
			\end{frame}
	
			\begin{frame}{Inzidenzmatrix}
				Die \emph{Inzidenzmatrix} eines Netzwerks mit \(n\) Knoten und \(m\) Kanten ist eine \( n \times m \)-Matrix \( \mat{\Theta} = \theta_{ia} \):
				\begin{equation*}
					\theta_{ia} \coloneqq
						\begin{cases*}
							1  & falls \( a : j \to i \) \\
							-1 & falls \( a : i \to j \) \\
							0  & sonst
						\end{cases*}
				\end{equation*}
				
				\onslide<2->{
					\textbf{Beispiel:} \\
					\begin{minipage}[l]{0.7\textwidth}
						\begin{equation*}
							\mat{\Theta} =
								\begin{bmatrix}
									1  & -1 & 1  & 0  & 0  \\
									-1 & 0  & 0  & -1 & 0  \\
									0  & 1  & 0  & 0  & -1 \\
									0  & 0  & -1 & 1  & 1
								\end{bmatrix}
						\end{equation*}
					\end{minipage}
					\begin{minipage}[r]{0.2\textwidth}
						\exampleDirectedGraph
					\end{minipage}
				}
			\end{frame}
			\note[itemize]{
				\item Eine Zeile pro Knoten, eine Spalte pro Kante.
				\item \( a : i \to j \): Die Kante \(a\) geht von Knoten \(i\) aus.
			}

			\begin{frame}{Kantenzyklus-Matrix ("Edge-Cycle-Matrix")}
				Durch Hinzufügen einer Ko-Baum-Kante zum Baum \(\mathcal{T}\) wird ein eindeutiger Zyklus \(c\) definiert. Sei \( \mat{\Gamma} = (\gamma_{ca}) \) die \emph{Kantenzyklus-Matrix}:
				\begin{equation*}
					\gamma_{ca} \coloneqq
						\begin{cases*}
							1  & falls der Zyklus \(c\) die Kante \(a\) in positiver Richtung enthält \\
							-1 & falls der Zyklus \(c\) die Kante \(a\) in negativer Richtung enthält \\
							0  & sonst
						\end{cases*}
				\end{equation*}
				
				\onslide<2->{
					\textbf{Beispiel:} \\
					\begin{minipage}[l]{0.7\textwidth}
						\begin{equation*}
							\mat{\Gamma} =
								\begin{bmatrix}
									0  & 1 & 1 & 0 & 1 \\
									-1 & 0 & 1 & 1 & 0
								\end{bmatrix}
						\end{equation*}
					\end{minipage}
					\begin{minipage}[r]{0.2\textwidth}
						\exampleDirectedSpanningTree
					\end{minipage}
				}
			\end{frame}
			\note[itemize]{
				\item Eine Zeile pro Zyklus, eine Spalte pro Kante.
				\item Positiv heißt links herum, negativ rechts herum.
				\item Die Richtung des Zyklus ist durch die fehlende Kante definiert!
				\item Erste Zeile ist Zyklus durch \(b\), zweite durch \(d\).
			}
		
			\begin{frame}{Potential und Spannung}
				Ein \emph{Potential} \( \vec{\pi} = (\pi_i) \) weißt jedem Knoten \(i\) einen Wert \(\pi_i \in \R\) zu.
				
				\vspace{0.5cm}
				Die Potentialdifferenz \( x_a \coloneqq \pi_j - \pi_i \) sei die \emph{Spannung} von Kante \( a : i \to j \). Es gilt \( \mat{\Theta}^T \vec{\pi} = \vec{x} \). Weiterhin ist \( \vec{x} \) eine (periodische) Spannung gdw. \( \mat{\Gamma} \vec{x} \equiv_T \vec{0} \) gilt.
				% TODO: Was hat man von dem Zusammenhang (Gamma . x = 0)?
				
				\vspace{0.5cm}
				\onslide<2->{
					\textbf{Beispiel:} \\
					\vspace{-0.5cm}
					\begin{align*}
						\vec{\pi} &= \begin{bmatrix} \pi_A & \pi_B & \pi_C & \pi_D \end{bmatrix}^T \in \R^4 \\
						\vec{x} &=
							\begin{bmatrix}
								x_a \\
								x_b \\
								x_c \\
								x_d \\
								x_e
							\end{bmatrix}
						\coloneqq
							\begin{bmatrix}
								\pi_A - \pi_B \\
								\pi_C - \pi_A \\
								\pi_A - \pi_D \\
								\pi_D - \pi_B \\
								\pi_D - \pi_C
							\end{bmatrix}
						=
							\underbrace{
								\begin{bmatrix}
									1  & -1 & 0  & 0  \\
									-1 & 0  & 1  & 0  \\
									1  & 0  & 0  & -1 \\
									0  & -1 & 0  & 1  \\
									0  & 0  & -1 & 1
								\end{bmatrix}
							}_{ = \, \mat{\Theta}^T }
							\cdot
							\begin{bmatrix}
								\pi_A \\
								\pi_B \\
								\pi_C \\
								\pi_D
							\end{bmatrix}
					\end{align*}
				}
			\end{frame}
			\note[itemize]{
				\item Nicht-periodische Spannung: \(=\) statt \(\equiv_T\)
			}
		% end
		
		\subsection{Spannbaumstrukturen} % TODO: Titel!
			\begin{frame}{Spannbaumstrukturen und generiertes Potential}
				Sei \( \mathcal{T} = \mathcal{T}^l + \mathcal{T}^u \) ein Spannbaum, separiert in \( \mathcal{T}^l \) und \( \mathcal{T}^u \), sodass gilt:
				\begin{equation*}
					\forall a \in \mathcal{T}^l : x_a = l_a \qquad\text{und}\qquad \forall a \in \mathcal{T}^u : x_a = u_a
				\end{equation*}
				
				\vspace{0.5cm}
				Über \( \mat{\Theta}^T \vec{\pi} = \vec{x} \) bestimmt jede Struktur ein eindeutiges Potential \( \vec{\pi}^{(\mathcal{T})} \), für das gilt:
				\begin{align*}
					& \forall (a : i \to j) \in \mathcal{T}^l : \pi^{(\mathcal{T})}_j - \pi^{(\mathcal{T})}_i = l_a \\
					& \forall (a : i \to j) \in \mathcal{T}^l : \pi^{(\mathcal{T})}_j - \pi^{(\mathcal{T})}_i = u_a
				\end{align*}
			\end{frame}
			\note[itemize]{
				\item In \( \mathcal{T}^l \) sind alle Spannungen an der unteren Schranke, in \( \mathcal{T}^u \) an der oberen.
				\item Spannbaumstruktur \(\mathcal{T}\) durchfürbar, wenn das bestimmte Potential durchführbar ist (in Bezug auf alle Zeiteinschränkungen).
			}
		
			\begin{frame}{Der "Raum periodischer Pufferzeiten"} % TODO: Titel!
				Mit \( \vec{b} \coloneqq [-\mat{\Gamma} \vec{l}]_T \) und \( \vec{\delta} \coloneqq \vec{u} - \vec{l} \) ist der \emph{Raum periodischer Pufferzeiten} \(\mathcal{Y}\) definiert:
				\begin{align*}
					\mathcal{Y} \coloneqq& \,\big\{\, \vec{y} \in \Z^m \,\vert\, \mat{\Gamma} \vec{y} \equiv_T \vec{b}, \quad \vec{0} \leq \vec{y} \leq \vec{\delta} \,\big\}
					%=& \,\big\{\, \vec{y} \in \Z^m \,\vert\, \mat{\Gamma} \vec{y} \equiv_T [-\mat{\Gamma} \vec{l}]_T, \quad \vec{0} \leq \vec{y} \leq \vec{u} - \vec{l} \,\big\} \\
					%=& \,\big\{\, \vec{y} \in \Z^m \,\vert\, \mat{\Gamma} \vec{y} \equiv_T [-\mat{\Gamma} \vec{l}]_T, \quad \vec{l} \leq \vec{y} + \vec{l} \leq \vec{u} \,\big\} \\
					%=& \,\big\{\, \vec{y} \in \Z^m \,\vert\, \mat{\Gamma} \vec{y} \equiv_T -\mat{\Gamma} \vec{l}, \quad \vec{l} \leq \vec{y} + \vec{l} \leq \vec{u} \,\big\} \\
					%=& \,\big\{\, \vec{y} \in \Z^m \,\vert\, \mat{\Gamma} \vec{y} + \mat{\Gamma} \vec{l} \equiv_T \vec{0}, \quad \vec{l} \leq \vec{y} + \vec{l} \leq \vec{u} \,\big\} \\
					%=& \,\big\{\,\vec{y} \in \Z^m \,\vert\, \mat{\Gamma} (\vec{y} + \vec{l}) \equiv_T \vec{0}, \quad \vec{l} \leq \vec{y} + \vec{l} \leq \vec{u} \,\big\}
				\end{align*}
				Damit gilt ist \( \vec{x} \in \Z^m \) eine Spannung mit \( \vec{l} \leq \vec{x} \leq \vec{u} \) gdw. \( (\vec{x} - \vec{l}) \in \mathcal{Y} \) gilt. Also bestimmt jedes \( \vec{y} \in \mathcal{Y} \) eine Spannung \( \vec{x} \coloneqq \vec{y} + \vec{l} \) mit \( \vec{l} \leq \vec{x} \leq \vec{u} \).
				
				\vspace{1cm}
				Das Optimierungsproblem kann wie folgt umformuliert werden:
				\begin{align*}
					& \min \big\{\, \vec{\omega}^T \vec{y} \,\vert\, \vec{y} \in \mathcal{Y} \,\big\} \\
					%=& \min \big\{\, \vec{\omega}^T \vec{y} \,\vert\, \mat{\Gamma} \vec{y} \equiv_T \vec{b}, \quad \vec{0} \leq \vec{y} \leq \vec{\delta}, \quad \vec{y} \in \Z^m \,\big\} \\
					%=& \min \big\{\, \vec{\omega}^T (\vec{x} - \vec{l}) \,\vert\, \mat{\Gamma} (\vec{x} - \vec{l}) \equiv_T \vec{b}, \quad \vec{0} \leq \vec{x} - \vec{l} \leq \vec{\delta}, \quad \vec{x} \in \Z^m \,\big\} \\
					%=& \min \big\{\, \vec{\omega}^T (\vec{x} - \vec{l}) \,\vert\, \mat{\Gamma} (\vec{x} - \vec{l}) \equiv_T -\mat{\Gamma} \vec{l}, \quad \vec{0} \leq \vec{x} - \vec{l} \leq \vec{u} - \vec{l}, \quad \vec{x} \in \Z^m \,\big\} \\
					%=& \min \big\{\, \vec{\omega}^T (\vec{x} - \vec{l}) \,\vert\, \mat{\Gamma} \vec{x} \equiv_T \vec{0}, \quad \vec{l} \leq \vec{x} \leq \vec{u}, \quad \vec{x} \in \Z^m \,\big\}
				\end{align*}
			\end{frame}
			\note[itemize]{
				\item \( \vec{x} = \vec{y} + \vec{l} \quad\iff\quad \vec{y} = \vec{x} - \vec{l} \)
			}
		
			\begin{frame}{Dual des Minimum-Cost Flow Problems}
				Sind die Modulo-Parameter \(z_a\) konstant, kann das Optimierungsproblem umformuliert werden:
				\begin{align*}
					&\, \min \Bigg\{\, \sum_{a}^{\mathcal{A}} \omega_a (x_a - l_a - z_a T) \,\bigg\vert\, \forall a \in \mathcal{A} : l_a \leq x_a - z_a T \leq u_a \,\Bigg\} \\
					=&\, \min \Bigg\{\, \sum_{a}^{\mathcal{A}} \omega_a (x_a - l_a') \,\bigg\vert\, \forall a \in \mathcal{A} : l_a' = l_a + z_a T \leq x_a \leq u_a' = u_a + z_a T \,\Bigg\} \\
					=&\, \min \big\{\, \vec{\omega}^T (\mat{\Theta}^T \vec{\pi} - \vec{l}') \,\big\vert\, \vec{l}' \leq \mat{\Theta}^T \vec{\pi} \leq \vec{u}' \,\big\}
				\end{align*}
				Dies ist die Dual-Formulierung des Minimum-Cost Flow Problem.
				
				Jeder Extrempunkt der gültigen Region des Problems entspricht einer Spannbaumstruktur.
			\end{frame}
		
			\begin{frame}{Periodische Basislösung}
				Für Modulo-Parameter \( \vec{z}^{\mathcal{T}} \) einer Spannbaumstruktur heißt
				\begin{equation*}
					\begin{bmatrix}
						\vec{\pi}^{\mathcal{T}} \\
						\vec{z}^{\mathcal{T}}
					\end{bmatrix}
				\end{equation*}
				eine \emph{periodische Basislösung} in Bezug auf die Spannbaumstruktur \( \mathcal{T} \).
			\end{frame}
		
			\begin{frame}{Theorem 21} % TODO: Titel!
				Sei
				\begin{equation*}
					\mathcal{Q} \coloneqq \mathit{conv.hull} \Bigg\{\, \begin{bmatrix} \vec{\pi} \\ \vec{z} \end{bmatrix} \,\bigg\vert\, \vec{l} \leq \mat{\Theta}^T \vec{\pi} - T\vec{z} \leq \vec{u}, \quad \vec{\pi} \in \R^n, \quad \vec{z} \in \Z^m \,\Bigg\}
				\end{equation*}
				der \emph{periodische Fahrplan-Polyeder}. % TODO: Name!
				
				\vspace{1cm}
				\textbf{Theorem.} Der Vektor \( \begin{bmatrix} \vec{\pi} \\ \vec{z} \end{bmatrix} \in \mathcal{Q} \) ist ein Extrempunkt von \( \mathcal{Q} \) gdw. er eine periodische Basislösung in Bezug auf eine Spannbaumstruktur ist.
			\end{frame}
			\note[itemize]{
				\item Konvexe Hülle bei Bedarf erklären.
			}
		
			\begin{frame}{Theorem 22} % TODO: Titel!
				\textbf{Theorem.} Es existiert eine Matrix \( \mat{F} \in \R^{m \times m} \) mit \( \mat{\Theta} \mat{F} \equiv_T \vec{0} \) und ein Vektor \( \vec{r} \in \R^m \), sodass
				\begin{align*}
					& \mathit{conv.hull} \big\{\, \vec{x} \in \Z^m \,\vert\, \exists \vec{z} \in \Z^m : ( \mat{\Gamma} \vec{x} - T\vec{z} = \vec{0}, \quad \vec{l} \leq \vec{x} - T\vec{z} \leq \vec{u} ) \,\big\} \\
					=\,& \big\{\, \vec{x} \,\vert\, \mat{F} \vec{x} \geq \vec{r} \,\big\}
					\intertext{oder äquivalent}
					& \mathit{conv.hull} \big\{\, \vec{y} \in \Z^m \,\vert\, \exists \vec{z} \in \Z^m : ( \mat{\Gamma} \vec{y} - T\vec{z} = \vec{b}, \quad \vec{0} \leq \vec{y} - T\vec{z} \leq \vec{\delta} ) \,\big\} \\
					=\,& \big\{\, \vec{y} \,\vert\, \mat{F} \vec{y} \geq \tilde{\vec{r}} \coloneqq \vec{r} - \mat{F} \vec{l} \,\big\}
				\end{align*}
				gilt.
			\end{frame}
			\note[itemize]{
				\item Jede Zeile von \( \mat{F} \) ist eine Spannung.
				\item Mit \( \vec{x} = \vec{y} + \vec{l} \quad\iff\quad \vec{y} = \vec{x} - \vec{l} \) ist die Äquivalenz klar.
				\item Es gilt \( \vec{b} \coloneqq [-\mat{\Gamma} \vec{l}]_T \) und \( \vec{\delta} \coloneqq \vec{u} - \vec{l} \).
			}
		
			% TODO: Ab dem Lemma fehlen die Sachen.
		% end
	% end
	
	\section{Modulo-Simplex-Berechnungen}
		\todo{Modulo-Simplex-Berechnungen}
		
		% TODO: In exchange modulo-simplex tableau, the top-left gamma shall be \gamma_{r1}, not \gamma_{rl}!
	
		\subsection{Grundlagen von Modulo-Simplex}
			\todo{Grundlagen von Modulo-Simplex}
		% end
		
		\subsection{Periodisches Modulo-Simplex}
			\todo{Periodisches Modulo-Simplex}
		% end
	% end
	
	\section{Zusammenfassung}
		\todo{Zusammenfassung}
	% end

	\begin{frame}{Literatur}
		\bibliography{../cite}
	\end{frame}
\end{document}
